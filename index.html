<!DOCTYPE html>
<html>

<head>
    <title>DAVF</title>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link rel="stylesheet" type="text/css" href="node_modules/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="node_modules/@fortawesome/fontawesome-free/css/all.min.css">
    <link rel="stylesheet" type="text/css" href="css/my.css">

    <script src="node_modules/chart.js/dist/Chart.bundle.min.js"></script>
    <script src="node_modules/chartjs-plugin-trendline/dist/chartjs-plugin-trendline.min.js"></script>
</head>

<body>
    <div class="container-fluid">
        <div class="row">
            <aside class="col-lg-2 col-md-3 d-none d-sm-none d-md-block sidebar">
                <header>
                    <h1>DVAF</h1>
                </header>
                <ul class="nav flex-column">
                    <li class="nav-item">
                        <a href="/" class="nav-link active">
                            <i class="fas fa-home"></i>
                            General
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="/search.html" class="nav-link">
                            <i class="fas fa-search"></i>
                            Search
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link">
                            <i class="fas fa-upload"></i>
                            Upload
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link">
                            <i class="fas fa-book"></i>
                            Documentation
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link">
                            <i class="fas fa-question"></i>
                            How it works
                        </a>
                    </li>
                </ul>


                <footer>
                    <a href="#">Contact</a>
                    <a href="#">Imprint</a>
                </footer>
            </aside>
            <main class="col-md-9 col-sm-12 col-lg-10 ml-auto pt-3 px-4">
                <h1>General</h1>
                <hr>

                <div class="space-around">
                    <div class="box">
                        <span class="bignum">355</span>
                        <span class="subtitle">vulnerabilities reported in the last 7 days</span>
                    </div>
                    <div class="box">
                        <span class="bignum">72</span>
                        <span class="subtitle">patches applied in the last 7 days</span>
                    </div>
                    <div class="box">
                        <span class="bignum">7</span>
                        <span class="subtitle">unfixed vulnerabilities in Debian 10</span>
                    </div>
                </div>
                <div class="box">
                    <span class="subtitle">total vulnerabilities per
                        <div class="dropdown d-inline">
                            <button class="btn btn-outline-secondary dropdown-toggle" type="button" id="dd"
                                data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                <i class="fas fa-calendar"></i> year
                            </button>
                            <div class="dropdown-menu" aria-labelledby="dd">
                                <button class="dropdown-item">day</button>
                                <button class="dropdown-item">week</button>
                                <button class="dropdown-item">year</button>
                            </div>
                        </div>
                    </span>
                    <canvas id="test"></canvas>
                </div>
            </main>
        </div>
    </div>

    <script>
        let dd = document.getElementById("dd");
        dd.addEventListener("click", function () {
            x = dd.nextElementSibling;
            if (x.style.display === "none") {
                x.style.display = "block";
            } else {
                x.style.display = "none";
            }
        });

        var ctx = document.getElementById('test').getContext('2d');
        var myChart = new Chart(ctx, {
            responsive: "true",
            type: 'bar',
            data: {
                labels: ["'01", "'02", "'03", "'04", "'05", "'06", "'07", "'08", "'09", "'10", "'11",
                    "'12",
                    "'13", "'14", "'15", "'16", "'17", "'18"
                ],
                datasets: [{
                    trendlineLinear: {
                        style: "#45aaf2",
                        width: 2
                    },
                    label: "vulnerabilites",
                    data: [113, 210, 300, 315, 686, 607, 582, 655, 647, 441, 658, 605, 742, 833,
                        975,
                        1248, 1528, 1033
                    ],
                    backgroundColor: '#fc5c65',
                    borderColor: "#eb3b5a",
                    borderWidth: 2
                }]
            },
            options: {
                legend: {
                    display: false,
                },
                scales: {
                    xAxes: [{
                        scaleLabel: {
                            display: true,
                            labelString: "time"
                        }
                    }],
                    yAxes: [{
                        ticks: {
                            beginAtZero: true
                        },
                        scaleLabel: {
                            display: true,
                            labelString: "# of vulnerabilities"
                        }
                    }]
                }
            }
        });
    </script>
</body>

</html>